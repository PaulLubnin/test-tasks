«Сколько квадратов»

Дана некоторая панель, которая представляет собой решетку из пронумерованных точек. Решетка состоит из прямоугольной матрицы точек и линий, соединяющих некоторые пары близлежащих точек. Решением задачи является код, который возвращает количество квадратов, образованных линиями. 
Например, на фигуре, представленной ниже, есть три квадрата: два малых и один средний.

А на этой фигуре – 2 квадрата.

Точки пронумерованы от 1 до 16. Линии представлены как списки (list) из двух чисел (концы линий).
Входные данные:  линий в виде списка (list) списков (list), каждый из которых содержит два целых числа.
Выходные данные:  квадратов в виде целого числа.

Пример:

number_of_squares([[1, 2], [3, 4], [1, 5], [2, 6], [4, 8], [5, 6], [6, 7],
     [7, 8], [6, 10], [7, 11], [8, 12], [10, 11],
     [10, 14], [12, 16], [14, 15], [15, 16]]) == 3

number_of_squares([[1, 2], [2, 3], [3, 4], [1, 5], [4, 8],
     [6, 7], [5, 9], [6, 10], [7, 11], [8, 12],
     [9, 13], [10, 11], [12, 16], [13, 14], [14, 15], [15, 16]]) == 2

Предусловия:
0 < len(lines) ≤ 32